# Git & GitHub
`git` is version control software:
* It lets you keep track of changes to your code.
* It allows you to revert your codebase to a known-good version if you break something, and allows you to safely test new changes in seperate branches.
	* It also allows you to thoroughly confuse yourself and accidentally delete your code by entering a few commands.
	* `git reflog` is very, very useful.

## In Case of Fire:
1. `git commit`
1. `git push`
1. `Git` the hell out!
	* Hopefully you did a `git add .`...

## Concepts
### Branch
* Seperate section of repo created to make changes
* Eventually merge back into `main`

### Fork
* Similar to a branch, except with no intent of merging back into `main`
	* Sometimes merges back to `main` if changes are really preferred by users
	* Sometimes created with the intent to merge to `main` but incorporates significant changes from original repo
		* For example, [Asahi Linux](https://github.com/AsahiLinux/linux)
* Make a copy of another repo so that you can change it as you desire
	* Making another program "your own"

### .gitignore
* A file which contains files or directories that git should ignore.
* Add any file that git shouldn't keep track of here.

#### Files to consider ignoring
* Autogenerated files
	* Not relevant to repository, e.g. `.DS_Store`
* Program binaries:
	* Large files = repo size is larger, commits take forever
	* Can generate these with the source code (that is stored in your repo)
	* Use the **Releases** feature to store binaries, this also makes it more convienent for users

### Main
* `main` is the most important branch (can be named whatever you want)
* All branches merge back into this
* Everything here should be working properly
	* Will usually be used for creating releases

### Milestones
* [GitHub Milestones Documentation](https://docs.github.com/en/issues/using-labels-and-milestones-to-track-work/about-milestones)
* These can be used to track the completion of an important part of a program, such as the completion of a working prototype.
	* In the Robotics club, they are used to track features that are supposed to be implemented by each competition (e.g. working autonomous for Waterloo).
* Issues and pull requests can be associated with a specific milestone to track its completion. Milestones show the day they are due, and how completed they are (the amount of open/closed issues and pull requests).

### Releases
* A executable version of your program
* If someone goes onto your repo they're going to look here first instead of building the program themselves

### Remote
* A copy of your git repository somewhere else.
* Use `push` and `pull` to send/recieve changes from the remote repository.

### Revert
* Undo changes that are no longer desired.

### Tags
* A marker to show a specific point in the repo's history.
* Can be used to indicate the current version of a program.
	* For example, `v1.0.2-alpha`.
* See [Git Docs](https://git-scm.com/book/en/v2/Git-Basics-Tagging)
* You need to push tags using `git push --tags` before they will show up on a remote repository.

## Problems vs. Solutions
| Problem | Solution | Command |
| ------- | -------- | ------- |
| Useless/autogenerated files in repo | Ignore files | See `.gitignore` |
| Files in `.gitignore` not being ignored (previously committed) | Delete files from cache | Commit all changes<br>Clear cached files: `git rm -r --cached .`<br>Add all (non-ignored) files: `git add .` |
| Tags only appear on local machine | Need to push tags to remote | `git push --tags` |
| Thoroughly screwed up *your local repo* | Reset to known-good commit | See list of changes (find `n`): `git reflog`<br>Reset repo state to commit: `git reset --hard HEAD@{n}`<br>**THIS WILL DESTROY ANY UNCOMMITTED CHANGES.**<br>(Use `--soft` to keep new changes) |
| Thoroughly screwed up *main* | Find a new job | Close your terminal: `exit`<br>Force it to close: `exit` (again) |